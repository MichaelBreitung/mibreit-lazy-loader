var l=Object.defineProperty;var g=(i,e,t)=>e in i?l(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var r=(i,e,t)=>g(i,typeof e!="symbol"?e+"":e,t);import{wrapElements as n,unwrapElements as a,removeElement as o,isElementWithinWindow as m,addCssStyle as d,getElementDimension as s,createElement as _,addCssClass as u,overwriteCssStyles as h}from"../node_modules/mibreit-dom-tools/lib/index.js";class f{constructor(e,t=!1){r(this,"_surrogate");r(this,"_element");this._element=e,this._surrogate=this._createSurrogate(t),n([e.getHtmlElement()],this._surrogate),e.addWasLoadedCallback(()=>{a(this._surrogate),o(this._surrogate)})}getWidth(){return this._element.getWidth()}getHeight(){return this._element.getHeight()}getStyle(){return this._element.getStyle()}isElementWithinScrollArea(){return m(this._surrogate)}_resize(e){e&&d(this._surrogate,"width",`${s(this._surrogate).height*this._element.getWidth()/this._element.getHeight()}px`)}_createSurrogate(e=!1){const t=_("div");return u(t,"mibreit_lazyLoader_surrogate"),e?(h(t,`overflow: hidden; height: 100%; width: ${s(this._element.getHtmlElement()).height*this._element.getWidth()/this._element.getHeight()}px; flex-shrink:0;`),setTimeout(()=>{this._resize(!0)},0)):h(t,`overflow: hidden; width: 100%; height: 0; padding-bottom: ${this._element.getHeight()*100/this._element.getWidth()}%;`),t}}export{f as default};
